<template>
    <div class="slds-grid slds-m-vertical_x-small slds-p-horizontal_medium">
            <c-custom-lookup icon="standard:contact_list"
                                object-name={objectName}
                                object-label={objectLabel}
                                fields={fields}
                                filter={filter}
                                in-modal="true"
                                onrecordselectedinmodal={rowSelectedRecord}
                                onrerendertable={rerenderTableResults}
                                columns-to-show={columnsToShow}>
            </c-custom-lookup>
        </div>

        <template if:false={showError}>
            <template if:false={initComplete}>
                <lightning-spinner class="spinner-position" alternative-text="Loading"></lightning-spinner>
            </template>
            <template if:true={initComplete}>
                <div class="slds-m-top_x-large">
                    <c-base-lwc-data-table section-header-text=""
                                            column-data={columnsToShow}
                                            expandable-section-title-api-name={expandableSectionTitleApiName}
                                            records={searchResults}
                                            row-click-enabled=true
                                            onsortrecords={handleRecordSorting}
                                            onrecordselected={rowSelectedAccordion}
                                            onrowselected={rowSelectedRecord}
                                            selected-column="Name">
                    </c-base-lwc-data-table>
                </div>

                <div class="slds-grid slds-grid_align-center slds-grid_vertical-align-center">
                    <div class="slds-col slds-size-small_1-of-1">
                        <c-paginator page-number={pageNumber}
                                        page-size={pageSize}
                                        total-item-count={totalItemCount}
                                        onprevious={handlePreviousPage}
                                        onnext={handleNextPage}
                                        onfirst={goToFirstPage}
                                        onlast={goToLastPage}>
                        </c-paginator>
                    </div>
                </div>
            </template>
        </template>
        <template if:true={showError}>
            <div class="slds-grid slds-grid_align-center slds-p-around_medium">
                <div class="main-text">{errorMessage}</div>
            </div>
        </template>
</template>